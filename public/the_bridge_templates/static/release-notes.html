<!DOCTYPE html>
<html>
<body>

<h2>November 13th, 2014: Version 0.4, ODK/SF upgrades, product listing mockup</h2>
<p>Hey fam, quick features update on the latest release to production:</p>

<ol>
	<li>
		Error handling is now accomplished through a "process log" which allows the user to see all attempted submissions, with their IDs, and whether or not they succeeded or failed.
	</li>
	<li>
		You can now map to record types, using the record type name (that's the API name, not the label) in your ODK source.
	</li>
	<li>
		You can see the last attempted submission from ODK (the "cursor") and clear this cursor position (so that the bridge attempts all the records in the ODK database again). Combined with the UUID functionality described in my last update, this means you can be completely sure that each submission hits Salesforce or shows up in the error log.
	</li>
	<li>
		You can change the insert order for Salesforce objects by dragging the objects left and right.
	</li>
	<li>
		You can refresh Salesforce objects to pull newly created fields from Salesforce into your existing mapping.
	</li>
	<li>
		The repeat blog bug has been fixed.
	</li>
	<li>
		There is a semi-functional (it is searchable for text, and nothing else) mockup of the marketplace on the site. 
	</li>
</ol>

<p>Roadmap update, in order of priority:</p>
<ol>
	<li>
		Update existing records in Salesforce by specifying a unique ID field to match on.
	</li>
	<li>
		Handle photos, video, and audio either as attachments on your Salesforce records or as URL fields that link to the content stored on ODK aggregate.
	</li>
</ol>

<h4>***Today we found and replicated a strange bug with the lookup matching picklist field. It is no longer appearing and we are on high-alert. Please drop me a line if you notice that the picklist which populates your matching options for a lookup field goes blank while creating or editing a mapping.***</h4>

<p>TD</p>

<h2>October 29th, 2014: Version 0.3, Unique IDs for each destination record</h2>

<p>Hey family,</br></br>

ODK Aggregate generates a single unique string for each submission. We'd been using this "metainstanceID" to map to "ODK Key" fields in Salesforce so you have a string that matches in both databases for data validation. An important security blanket, if you will! </br></br>

The problem is that "ODK Key" in Salesforce it cannot be set to unique (which would 100% guarantee the blocking of duplicate records) for objects that receive multiple records per submission. </br></br>

For example, a new beneficiary linked to an existing clinic with a new visit and two new test results would look like this: </br>
<ol>
	<li>
		New Beneficiary, ODK Key = uuid:c35c2cb3-3d05-4660-bc22-5de0d4999fd9
	</li>
	<li>
		New Visit, ODK Key = uuid:c35c2cb3-3d05-4660-bc22-5de0d4999fd9
	</li>
	<li>
		New Test Result 1, ODK Key = uuid:c35c2cb3-3d05-4660-bc22-5de0d4999fd9
	</li>
	<li>
		New Test Result 2, ODK Key = uuid:c35c2cb3-3d05-4660-bc22-5de0d4999fd9
	</li>
</ol>
You could make Beneficiary__c.ODK_Key__c and Visit__c.ODK_Key__c unique in Salesforce, butnot Test_Result__c.ODK_Key__c. </br></br>

Much in the same way that ODK Briefcase generates unique keys by appending the "metainstanceID" for each submission with a string, we now give bridge users the option (through a checkbox next to metainstanceID) to use this modified metainstanceID and have a unique "ODK Key" field on every destination object. I know I shouldn't always show how the sausage is made, but this is very straightforward and you might be curious. </br></br>

IF UUID = true, convert meta/instanceID to:</br></br>

&nbsp;&nbsp;&nbsp;&nbsp;IF (repeat = FALSE,</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta/instanceID + &quot;/&quot; + designator,</br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;meta/instanceID + &quot;/&quot; designator + &quot;.&quot; + array_position )</br></br>

You'll see this now and a new error handling UI in the next couple of days. You're also always welcome to check out our staging server if you're bored and curious about what's next in the pipeline: the-staging-bridge.herokuapp.com</br></br>

TD</p>

</body>
</html>
