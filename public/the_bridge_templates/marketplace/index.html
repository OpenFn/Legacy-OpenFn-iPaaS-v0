<header class="header-image">
    <div class="headline">
      <h1>
        <i class="fa fa-shopping-cart"></i> open<strong>Marketplace</strong>
      </h1>
      <h3>
        Find the <strong>tools</strong> you need to grow your impact; vote for new <i class="fa fa-plug"></i> integrations.
      </h3>
    </div>
</header>
<br>
<div ng-controller="MarketplaceController as marketplace">
 <div class="container-fluid">

  <div class="col-sm-12 featurette dark">
         
        <div class="col-md-10 col-md-offset-1">
          <div class="search-field">
              <input type:"text" class="form-control" ng-class="alex" placeholder="Start typing to search..." ng-model="searchText" tooltip-trigger="mouseenter" tooltip="Search for product names, descriptions, tags, or websites.">
          </div>
        </div>
        <div class="col-md-10 col-md-offset-1">  
          <div class="new-product-link">
            <label style="float: left;" class="btn integrated-btn" disabled="disabled">
              <i class="fa fa-plus"></i> Add your product
            </label>
            <label style="float: right;" class="btn integrated-btn" ng-click="removeTagFilters()">Clear Filters</label>
            <label style="float: right;" class="btn integrated-btn" tooltip-trigger="mouseenter" tooltip-placement="bottom" tooltip="Click here to show only connected apps." ng-model="searchFilters.integrated" btn-checkbox>
                Integrated
            </label>
          </div>
        </div>
        <br>
        <div class="row">
        </div>
        <br>
        <div class="product-list row" ontouchstart="this.classList.toggle('hover');">
          <br>
          <div class="col-sm-2 featurette dark" id="custom-accord">
            <accordion close-others="false" class="whole-accord-button" tooltip-trigger="mouseenter" tooltip="Filter the marketplace by tag. Add multiple tags to narrow your search even more.">
              <accordion-group is-open="true">
                <accordion-heading>
                  Tags <i class="pull-right fa fa-caret-down"></i>
                </accordion-heading>
                <div style="cursor: pointer" ng-click="go('/tags/')">Collapse tag categories if you don't need them by clicking on the title. See frequencies in the badge. Click here to browse and search all of the tags in the system. <span class="badge"><i class="fa fa-search"></i></span></div>
              </accordion-group>
              <accordion-group is-open="true" ng-repeat="category in categories">
                <accordion-heading>
                  {{category.name}} <i class="pull-right fa fa-caret-down"></i>
                </accordion-heading>
                <li style="cursor: pointer" class="list-group-item" ng-repeat="tag in tags | filter:{tag_category_id: category.id }  | orderBy: '-tag_count'" ng-init="taggings_count(tag)" ng-click="tagFilter(tag)"  ng-model="tag.active" btn-checkbox>{{tag.name}} <span class="badge">{{tag.tag_count}}</span></li>
              </accordion-group>
            </accordion>
          </div>
          <div class="col-xs-10 center" ng-if="isLoading">
          <br><br><br>
            <i class="fa fa-refresh fa-3x fa-spin"></i>
          </div>
          <div class="col-sm-10">
          <div ng-repeat="product in products | filter:filterProducts">
            <div class="product-container col-lg-4 col-md-6 col-sm-6 col-xs-12">
              <div ng-class="product.integrated ? 'product integrated' : 'product'" tooltip-trigger="mouseenter" tooltip="Click to learn about {{product.name}}." ng-click="go('/product/' + product.id)" style="cursor: default">
                <div class='rating'>
                  <span class='live'>
                    <i class="fa fa-star-o" ng-show="!product.rating"></i>
                    <i class="fa fa-star-half-o" ng-show="product.rating>0 && product.rating<=0.5"></i>
                    <i class="fa fa-star" ng-show="product.rating>0.5"></i>

                    <i class="fa fa-star-o" ng-show="product.rating<=1"></i>
                    <i class="fa fa-star-half-o" ng-show="product.rating>1 && product.rating<=1.5"></i>
                    <i class="fa fa-star" ng-show="product.rating>1.5"></i>
                    
                    <i class="fa fa-star-o" ng-show="product.rating<=2"></i>
                    <i class="fa fa-star-half-o" ng-show="product.rating>2 && product.rating<=2.5"></i>
                    <i class="fa fa-star" ng-show="product.rating>2.5"></i>
                    
                    <i class="fa fa-star-o" ng-show="product.rating<=3"></i>
                    <i class="fa fa-star-half-o" ng-show="product.rating>3 && product.rating<=3.5"></i>
                    <i class="fa fa-star" ng-show="product.rating>3.5"></i>
                    
                    <i class="fa fa-star-o" ng-show="product.rating<=4"></i>
                    <i class="fa fa-star-half-o" ng-show="product.rating>4 && product.rating<=4.5"></i>
                    <i class="fa fa-star" ng-show="product.rating>4.5"></i>
                  </span>
                  &nbsp;({{product.reviews_count}})
                </div>
                <h3 class="title">
                  {{product.name}}
                </h3>
                <div class='tile-tweet'>
                  {{product.description | limitTo:117}}
                </div>
                <a ng-href="{{product.website}}" ng-click="$event.stopPropagation()" class="website-link" target="_blank" tooltip-trigger="mouseenter" tooltip="Check out the {{product.name}} website.">
                  <i class="fa fa-external-link"></i>
                </a>              
                <a href="/mappings" class="vote-link" ng-show="product.integrated" ng-click="$event.stopPropagation()">
                  <i class="fa fa-plug"></i>
                </a>
                <a style="cursor: auto" ng-hide="product.integrated" class="vote-count">
                  <i class="fa fa-plug"></i>+ <span class="live">{{product.votes_count}}</span>
                </a>
                <a ng-click="changeVoteFor(product); $event.stopPropagation()" class="vote-link" ng-show="!product.integrated" tooltip-trigger="mouseenter" tooltip="Vote up if you want to connect {{product.name}}.">               
                  <i ng-class="{'fa ' : true, 'fa-chevron-down' : product.hasVoteForUser, 'fa-chevron-up' : !product.hasVoteForUser}"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>